#include <iostream>
#include <string>
#include <variant>
#include <any>
#include <optional>

class Shape { public: virtual ~Shape() { } };
class Circle : public Shape { };
class Square : public Shape { };

//--- printing setup -------------------

print: ( msg: std::string, x: _ ) =
    std::cout << msg << x << "\n";


main: () -> int =
{
    std::cout << std::boolalpha;

//--- examples -------------------------

    print( "1.1 is int? ", 1.1 is int );
    print( "1   is int? ", 1   is int );

    c := new<Circle>();     // safe by construction
    s : * Shape = c.get();  // safe by Lifetime
    print("\ns* is Shape?  ", s* is Shape  );
    print(  "s* is Circle? ", s* is Circle );
    print(  "s* is Square? ", s* is Square );
}
